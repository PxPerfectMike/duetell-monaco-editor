(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>G});const r=window.React;var n=e.n(r);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.apply(r,[].concat(o,n))}}}function u(e){return{}.toString.call(e).includes("Object")}function s(e){return"function"==typeof e}var d=c(function(e,t){throw new Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),f=function(e,t){return u(t)||d("changeType"),Object.keys(t).some(function(t){return r=e,n=t,!Object.prototype.hasOwnProperty.call(r,n);var r,n})&&d("changeField"),t},g=function(e){s(e)||d("selectorType")},m=function(e){s(e)||u(e)||d("handlerType"),u(e)&&Object.values(e).some(function(e){return!s(e)})&&d("handlersType")},p=function(e){var t;e||d("initialIsRequired"),u(e)||d("initialType"),t=e,Object.keys(t).length||d("initialContent")};function h(e,t){return s(t)?t(e.current):t}function v(e,t){return e.current=l(l({},e.current),t),t}function y(e,t,r){return s(t)?t(e.current):Object.keys(r).forEach(function(r){var n;return null===(n=t[r])||void 0===n?void 0:n.call(t,e.current[r])}),r}const b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(e),m(t);var r={current:e},n=c(y)(r,t),o=c(v)(r),a=c(f)(e),i=c(h)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return g(e),e(r.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(n,o,a,i)(e)}]};var w,M={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "};(w=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.length>=w.length?w.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e.apply(t,[].concat(n,o))}})(M);var x={type:"cancelation",msg:"operation is manually canceled"};function E(e){var t=!1,r=new Promise(function(r,n){e.then(function(e){return t?n(x):r(e)}),e.catch(n)});return r.cancel=function(){return t=!0},r}var k,j=function(e){if(Array.isArray(e))return e}(k=b({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,o,a,i=[],l=!0,c=!1;try{for(o=(t=t.call(e)).next,!2;!(l=(r=o.call(t)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw n}}return i}}(k)||function(e){if(e){if("string"==typeof e)return o(e,2);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,2):void 0}}(k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=j[0],S=j[1];function R(e){return document.body.appendChild(e)}function C(e){var t=O(function(e){return{config:e.config,reject:e.reject}}),r=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function P(){var e=O(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){var r=t.m;N(r),e.resolve(r)},function(t){e.reject(t)})}function N(e){O().monaco||S({monaco:e})}var L=new Promise(function(e,t){return S({resolve:e,reject:t})}),T=function(){var e=O(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(S({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),E(L);if(window.monaco&&window.monaco.editor)return N(window.monaco),e.resolve(window.monaco),E(L);!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(R,C)(P)}return E(L)},A={display:"flex",position:"relative",textAlign:"initial"},I={width:"100%"},V={display:"none"},D={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},z=function({children:e}){return r.createElement("div",{style:D.container},e)},F=(0,r.memo)(function({width:e,height:t,isEditorReady:n,loading:o,_ref:a,className:i,wrapperProps:l}){return r.createElement("section",{style:{...A,width:e,height:t},...l},!n&&r.createElement(z,null,o),r.createElement("div",{ref:a,style:{...I,...!n&&V},className:i}))}),_=function(e){(0,r.useEffect)(e,[])},q=function(e,t,n=!0){let o=(0,r.useRef)(!0);(0,r.useEffect)(o.current||!n?()=>{o.current=!1}:e,t)};function B(){}function U(e,t,r,n){return function(e,t){return e.editor.getModel(W(e,t))}(e,n)||function(e,t,r,n){return e.editor.createModel(t,r,n?W(e,n):void 0)}(e,t,r,n)}function W(e,t){return e.Uri.parse(t)}(0,r.memo)(function({original:e,modified:t,language:n,originalLanguage:o,modifiedLanguage:a,originalModelPath:i,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:s="light",loading:d="Loading...",options:f={},height:g="100%",width:m="100%",className:p,wrapperProps:h={},beforeMount:v=B,onMount:y=B}){let[b,w]=(0,r.useState)(!1),[M,x]=(0,r.useState)(!0),E=(0,r.useRef)(null),k=(0,r.useRef)(null),j=(0,r.useRef)(null),O=(0,r.useRef)(y),S=(0,r.useRef)(v),R=(0,r.useRef)(!1);_(()=>{let e=T();return e.then(e=>(k.current=e)&&x(!1)).catch(e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e)),()=>E.current?function(){let e=E.current?.getModel();c||e?.original?.dispose(),u||e?.modified?.dispose(),E.current?.dispose()}():e.cancel()}),q(()=>{if(E.current&&k.current){let t=E.current.getOriginalEditor(),r=U(k.current,e||"",o||n||"text",i||"");r!==t.getModel()&&t.setModel(r)}},[i],b),q(()=>{if(E.current&&k.current){let e=E.current.getModifiedEditor(),r=U(k.current,t||"",a||n||"text",l||"");r!==e.getModel()&&e.setModel(r)}},[l],b),q(()=>{let e=E.current.getModifiedEditor();e.getOption(k.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[t],b),q(()=>{E.current?.getModel()?.original.setValue(e||"")},[e],b),q(()=>{let{original:e,modified:t}=E.current.getModel();k.current.editor.setModelLanguage(e,o||n||"text"),k.current.editor.setModelLanguage(t,a||n||"text")},[n,o,a],b),q(()=>{k.current?.editor.setTheme(s)},[s],b),q(()=>{E.current?.updateOptions(f)},[f],b);let C=(0,r.useCallback)(()=>{if(!k.current)return;S.current(k.current);let r=U(k.current,e||"",o||n||"text",i||""),c=U(k.current,t||"",a||n||"text",l||"");E.current?.setModel({original:r,modified:c})},[n,t,a,e,o,i,l]),P=(0,r.useCallback)(()=>{!R.current&&j.current&&(E.current=k.current.editor.createDiffEditor(j.current,{automaticLayout:!0,...f}),C(),k.current?.editor.setTheme(s),w(!0),R.current=!0)},[f,s,C]);return(0,r.useEffect)(()=>{b&&O.current(E.current,k.current)},[b]),(0,r.useEffect)(()=>{!M&&!b&&P()},[M,b,P]),r.createElement(F,{width:m,height:g,isEditorReady:b,loading:d,_ref:j,className:p,wrapperProps:h})});var J=new Map,H=(0,r.memo)(function({defaultValue:e,defaultLanguage:t,defaultPath:n,value:o,language:a,path:i,theme:l="light",line:c,loading:u="Loading...",options:s={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:g=!1,width:m="100%",height:p="100%",className:h,wrapperProps:v={},beforeMount:y=B,onMount:b=B,onChange:w,onValidate:M=B}){let[x,E]=(0,r.useState)(!1),[k,j]=(0,r.useState)(!0),O=(0,r.useRef)(null),S=(0,r.useRef)(null),R=(0,r.useRef)(null),C=(0,r.useRef)(b),P=(0,r.useRef)(y),N=(0,r.useRef)(),L=(0,r.useRef)(o),A=function(e){let t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}(i),I=(0,r.useRef)(!1),V=(0,r.useRef)(!1);_(()=>{let e=T();return e.then(e=>(O.current=e)&&j(!1)).catch(e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e)),()=>S.current?(N.current?.dispose(),g?f&&J.set(i,S.current.saveViewState()):S.current.getModel()?.dispose(),void S.current.dispose()):e.cancel()}),q(()=>{let r=U(O.current,e||o||"",t||a||"",i||n||"");r!==S.current?.getModel()&&(f&&J.set(A,S.current?.saveViewState()),S.current?.setModel(r),f&&S.current?.restoreViewState(J.get(i)))},[i],x),q(()=>{S.current?.updateOptions(s)},[s],x),q(()=>{!S.current||void 0===o||(S.current.getOption(O.current.editor.EditorOption.readOnly)?S.current.setValue(o):o!==S.current.getValue()&&(V.current=!0,S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),S.current.pushUndoStop(),V.current=!1))},[o],x),q(()=>{let e=S.current?.getModel();e&&a&&O.current?.editor.setModelLanguage(e,a)},[a],x),q(()=>{void 0!==c&&S.current?.revealLine(c)},[c],x),q(()=>{O.current?.editor.setTheme(l)},[l],x);let D=(0,r.useCallback)(()=>{if(R.current&&O.current&&!I.current){P.current(O.current);let r=i||n,u=U(O.current,o||e||"",t||a||"",r||"");S.current=O.current?.editor.create(R.current,{model:u,automaticLayout:!0,...s},d),f&&S.current.restoreViewState(J.get(r)),O.current.editor.setTheme(l),void 0!==c&&S.current.revealLine(c),E(!0),I.current=!0}},[e,t,n,o,a,i,s,d,f,l,c]);return(0,r.useEffect)(()=>{x&&C.current(S.current,O.current)},[x]),(0,r.useEffect)(()=>{!k&&!x&&D()},[k,x,D]),L.current=o,(0,r.useEffect)(()=>{x&&w&&(N.current?.dispose(),N.current=S.current?.onDidChangeModelContent(e=>{V.current||w(S.current.getValue(),e)}))},[x,w]),(0,r.useEffect)(()=>{if(x){let e=O.current.editor.onDidChangeMarkers(e=>{let t=S.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=O.current.editor.getModelMarkers({resource:t});M?.(e)}});return()=>{e?.dispose()}}return()=>{}},[x,M]),r.createElement(F,{width:m,height:p,isEditorReady:x,loading:u,_ref:R,className:h,wrapperProps:v})});function Y({moduleId:e,isActive:t,settings:o,setSettings:a}){const[i,l]=(0,r.useState)(o.currentFile||{name:"untitled.txt",content:"",language:"plaintext"}),[c,u]=(0,r.useState)(!1),s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const e=()=>{const e=document.documentElement.classList.contains("dark");u(e)};e();const t=new MutationObserver(e);return t.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]),(0,r.useEffect)(()=>{a({...o,currentFile:i})},[i]),n().createElement("div",{className:"h-full flex flex-col"},n().createElement("div",{className:"flex-shrink-0 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 px-4 py-2 flex items-center justify-between"},n().createElement("div",{className:"flex items-center space-x-4"},n().createElement("div",{className:"flex items-center space-x-2"},n().createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},i.name),i.id&&n().createElement("span",{className:"text-xs text-green-600 dark:text-green-400"},"● Saved")),n().createElement("div",{className:"h-4 w-px bg-gray-300 dark:bg-gray-600"}),n().createElement("select",{value:i.language,onChange:e=>{const t=e.target.value;l(e=>({...e,language:t}))},className:"text-sm px-2 py-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"},[{value:"plaintext",label:"Plain Text"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"csharp",label:"C#"},{value:"cpp",label:"C++"},{value:"html",label:"HTML"},{value:"css",label:"CSS"},{value:"json",label:"JSON"},{value:"markdown",label:"Markdown"},{value:"yaml",label:"YAML"},{value:"xml",label:"XML"},{value:"sql",label:"SQL"},{value:"shell",label:"Shell"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"php",label:"PHP"},{value:"ruby",label:"Ruby"}].map(e=>n().createElement("option",{key:e.value,value:e.value},e.label)))),n().createElement("div",{className:"flex items-center space-x-2"},n().createElement("button",{onClick:()=>{l({name:"untitled.txt",content:"",language:"plaintext"})},className:"px-3 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",title:"New File"},n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4"},n().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))),n().createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},i.content.length," chars"," • ",i.content.split("\n").length," lines"))),n().createElement("div",{className:"flex-1 min-h-0"},n().createElement(H,{height:"100%",language:i.language,value:i.content,onChange:e=>{void 0!==e&&l(t=>({...t,content:e}))},onMount:e=>{s.current=e,e.focus()},theme:c?"vs-dark":"vs-light",options:{minimap:{enabled:!0},fontSize:14,fontFamily:'Consolas, "Courier New", monospace',lineNumbers:"on",roundedSelection:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",bracketPairColorization:{enabled:!0},renderWhitespace:"selection",cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",smoothScrolling:!0,contextmenu:!0,mouseWheelZoom:!0,quickSuggestions:!0,suggestOnTriggerCharacters:!0,acceptSuggestionOnCommitCharacter:!0,acceptSuggestionOnEnter:"on",snippetSuggestions:"inline",formatOnPaste:!0,formatOnType:!0},loading:n().createElement("div",{className:"h-full flex items-center justify-center bg-white dark:bg-gray-900"},n().createElement("div",{className:"text-center"},n().createElement("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"}),n().createElement("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"Loading Monaco Editor...")))})))}"undefined"!=typeof window&&(window.DuetellModules=window.DuetellModules||{},window.DuetellModules["monaco-editor"]=Y,console.log("[Duetell Module] Monaco Editor loaded and registered successfully"));const G=Y;var Q=window,X=t.default;for(var Z in X)Q[Z]=X[Z];X.__esModule&&Object.defineProperty(Q,"__esModule",{value:!0})})();